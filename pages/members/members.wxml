<!--pages/members/members.wxml-->
<view class="container">
  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats-container">
    <view class="stat-item">
      <text class="stat-number">{{totalMembers}}</text>
      <text class="stat-label">æ€»ä¼šå‘˜</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{maleCount}}</text>
      <text class="stat-label">ç”·æ€§</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{femaleCount}}</text>
      <text class="stat-label">å¥³æ€§</text>
    </view>
  </view>

  <!-- ä¼šå‘˜åˆ—è¡¨ -->
  <view wx:if="{{members.length > 0}}">
    <view wx:for="{{members}}" wx:key="id" class="member-card" bindtap="showMemberDetail" data-id="{{item.id}}">
      <view class="member-header">
        <text class="member-name">{{item.name}}</text>
        <text class="member-gender {{item.gender === 'ç”·' ? 'male' : 'female'}}">{{item.gender}}</text>
      </view>
      
      <view class="member-info">
        <view class="member-info-item">
          <text class="member-info-label">å¹´é¾„</text>
          <text class="member-info-value">{{item.age}}å²</text>
        </view>
        <view class="member-info-item">
          <text class="member-info-label">èº«é«˜</text>
          <text class="member-info-value">{{item.height ? item.height + 'cm' : 'æœªå¡«å†™'}}</text>
        </view>
        <view class="member-info-item">
          <text class="member-info-label">èŒä¸š</text>
          <text class="member-info-value">{{item.occupation}}</text>
        </view>
        <view class="member-info-item">
          <text class="member-info-label">æ”¶å…¥</text>
          <text class="member-info-value">{{item.income}}</text>
        </view>
        <view class="member-info-item">
          <text class="member-info-label">å­¦å†</text>
          <text class="member-info-value">{{item.education}}</text>
        </view>
        <view class="member-info-item">
          <text class="member-info-label">å©šå§»</text>
          <text class="member-info-value">{{item.maritalStatus}}</text>
        </view>
      </view>
      
      <view wx:if="{{item.requirements}}" class="member-requirements">
        <text class="label">æ‹©å¶è¦æ±‚ï¼š</text>{{item.requirements}}
      </view>
      
      <view class="action-buttons">
        <button class="btn btn-secondary btn-small" bindtap="editMember" data-id="{{item.id}}" catchtap="true">ç¼–è¾‘</button>
        <button class="btn btn-danger btn-small" bindtap="deleteMember" data-id="{{item.id}}" catchtap="true">åˆ é™¤</button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:else class="empty-state">
    <text class="empty-icon">ğŸ‘¥</text>
    <view class="empty-title">æš‚æ— ä¼šå‘˜ä¿¡æ¯</view>
    <view class="empty-desc">ç‚¹å‡»ä¸‹æ–¹"æ·»åŠ ä¼šå‘˜"å¼€å§‹å½•å…¥</view>
  </view>
</view>

<!-- åŠ è½½æ›´å¤š -->
<view class="load-more" wx:if="{{hasMore}}">
  <text>åŠ è½½ä¸­...</text>
</view>